<div class="landing-page">
  <!-- Hero Section -->
  <section class="hero-section">
    <div class="hero-bg">
      <div class="container">
        <div class="row align-items-center py-5">
          <div class="col-lg-8 mx-auto text-center">
            <div class="hero-content">
              <h1 class="hero-title mb-3">
                Find Your Perfect <span class="text-highlight">Meal Plan</span>
              </h1>
              <p class="hero-subtitle mb-3">
                Healthy, delicious meals delivered daily in eco-friendly tiffin boxes. 
                Save more with longer subscriptions and enjoy nutritionist-approved meals.
              </p>
              
              <!-- Quick Benefits -->
              <div class="hero-stats d-flex flex-wrap justify-content-center gap-4 mb-3">
                <div class="stat-item">
                  <div class="stat-number">100%</div>
                  <div class="stat-label">Hygienic</div>
                </div>
                <div class="stat-item">
                  <div class="stat-number">Daily</div>
                  <div class="stat-label">Delivery</div>
                </div>
                <div class="stat-item">
                  <div class="stat-number">Eco</div>
                  <div class="stat-label">Friendly</div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Main Content Section -->
  <section class="py-4">
    <div class="container">

      <!-- Loading State -->
      <div *ngIf="loading" class="text-center py-4">
        <div class="spinner-border text-success mb-2" role="status">
          <span class="visually-hidden">Loading...</span>
        </div>
        <p class="text-muted">Loading subscription plans...</p>
      </div>

      <!-- Error State -->
      <div *ngIf="error" class="alert alert-danger border-0 shadow-sm mb-4" role="alert">
        <div class="d-flex align-items-center">
          <i class="bi bi-exclamation-triangle fs-5 me-2"></i>
          <div>
            <h6 class="alert-heading mb-1">Oops! Something went wrong</h6>
            <p class="mb-0 small">{{ error }}</p>
          </div>
        </div>
      </div>

      <!-- Plans Grid -->
      <div id="plans-section" *ngIf="!loading" class="row g-4 justify-content-center mb-4">
        <div *ngFor="let plan of plans" class="col-lg-4 col-md-6">
          <div class="card h-100 card-hover position-relative"
               [class.border-success]="plan.popular"
               [class.shadow]="plan.popular">
          
            <!-- Popular Badge -->
            <div *ngIf="plan.popular" class="position-absolute top-0 start-50 translate-middle z-1">
              <span class="badge bg-success text-white px-3 py-1 rounded-pill fw-bold">
                <i class="bi bi-star-fill me-1"></i>MOST POPULAR
              </span>
            </div>

            <div class="card-body p-3" [class.pt-4]="plan.popular">
              <!-- Plan Badge -->
              <div class="d-flex justify-content-between align-items-start mb-2">
                <span class="badge rounded-pill px-2 py-1"
                      [class.bg-primary]="plan.badgeColor === 'blue'"
                      [class.bg-success]="plan.badgeColor === 'green'"
                      [class.bg-warning]="plan.badgeColor === 'orange'"
                      [class.text-dark]="plan.badgeColor === 'orange' || plan.badgeColor === 'yellow'">
                  {{ plan.badge }}
                </span>
                <div *ngIf="plan.savings" class="text-end">
                  <small class="text-success fw-bold">Save ‚Çπ{{ plan.originalPrice - plan.price }}</small>
                </div>
              </div>

              <!-- Plan Title -->
              <h4 class="card-title fw-bold text-dark mb-2">{{ plan.name }}</h4>
              <p class="text-muted mb-3 small">{{ plan.description }}</p>

              <!-- Pricing -->
              <div class="mb-3">
                <div class="d-flex align-items-baseline mb-1">
                  <h2 class="fw-bold text-success me-2 mb-0">‚Çπ{{ plan.price }}</h2>
                  <span class="text-muted">/{{ plan.duration }}</span>
                  <span *ngIf="plan.originalPrice" class="text-muted text-decoration-line-through ms-2">‚Çπ{{ plan.originalPrice }}</span>
                </div>
                <small class="text-muted">{{ plan.mealsPerDay }} meals included</small>
              </div>

              <!-- Features List -->
              <div class="mb-3">
                <h6 class="fw-bold text-dark mb-2">What's included:</h6>
                <ul class="list-unstyled">
                  <li *ngFor="let feature of plan.features" class="d-flex align-items-start mb-1">
                    <i class="bi bi-check-circle-fill text-success me-2 mt-1"></i>
                    <span class="small text-dark">{{ feature }}</span>
                  </li>
                </ul>
              </div>

              <!-- CTA Button -->
              <div class="d-grid">
                <button type="button" 
                        (click)="selectPlan(plan)" 
                        [class]="getButtonClass(plan)"
                        class="btn fw-bold">
                  <i class="bi bi-calendar-check me-2"></i>{{ getButtonText() }}
                </button>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Bottom CTA Section -->
      <div class="text-center py-3 mb-3">
        <div class="row justify-content-center">
          <div class="col-lg-6">
            <h3 class="section-title mb-2">Ready to start your healthy journey?</h3>
            <p class="section-subtitle mb-3">Join thousands of satisfied customers who trust us for their daily nutrition</p>
            
            <div *ngIf="!isUserAuthenticated" class="hero-cta d-flex flex-column flex-sm-row gap-3 justify-content-center">
              <button type="button" (click)="learnMore()" class="btn btn-primary btn-lg px-4">
                <i class="bi bi-info-circle me-2"></i>Learn More
              </button>
            </div>

            <div *ngIf="isUserAuthenticated" class="location-indicator">
              <i class="bi bi-check-circle-fill me-2"></i>
              <span>You're all set! Choose a plan above to get started.</span>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Value Props Section -->
  <section class="value-props-section py-4 bg-light">
    <div class="container">
      <div class="text-center mb-4">
        <h2 class="section-title">Why Choose TiffinApp?</h2>
        <p class="section-subtitle">Experience the perfect blend of health, convenience, and sustainability</p>
      </div>
      
      <div class="row g-3">
        <div class="col-md-6 col-lg-4">
          <div class="value-prop-card text-center">
            <div class="prop-icon">üë®‚Äç‚öïÔ∏è</div>
            <h3 class="prop-title">Nutritionist-Approved</h3>
            <p class="prop-description">Every meal is designed by certified nutritionists to ensure balanced nutrition and optimal health benefits.</p>
          </div>
        </div>
        
        <div class="col-md-6 col-lg-4">
          <div class="value-prop-card text-center">
            <div class="prop-icon">‚ôªÔ∏è</div>
            <h3 class="prop-title">100% Plastic-Free</h3>
            <p class="prop-description">Eco-friendly reusable tiffin boxes that reduce waste and protect our environment for future generations.</p>
          </div>
        </div>
        
        <div class="col-md-6 col-lg-4">
          <div class="value-prop-card text-center">
            <div class="prop-icon">üöö</div>
            <h3 class="prop-title">On-Time Delivery</h3>
            <p class="prop-description">Fresh meals delivered right on schedule, every single day with our reliable delivery network.</p>
          </div>
        </div>
      </div>
    </div>
  </section>
</div>
